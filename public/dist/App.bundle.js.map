{"version":3,"sources":["webpack:///webpack/bootstrap 285ef14779a15058d188","webpack:///./public/js/stock.js","webpack:///./public/js/loadHome.js","webpack:///./public/js/createChart.js","webpack:///./public/js/stocksTheme.js","webpack:///./public/js/realtime.js"],"names":["loadHome","generateDate","d","Date","currentYear","getFullYear","currentMonth","getMonth","currentDay","getDate","previousYear","startDate","endDate","corsProxy","companyArray","forEach","name","url","$","getJSON","result","formattedData","dataset","data","map","element","givenDate","getTime","stockPrice","stockOptions","push","length","console","log","createChart","seriesOptions","Highcharts","stockChart","rangeSelector","selected","yAxis","labels","formatter","value","plotLines","width","color","title","text","subtitle","plotOptions","series","compare","tooltip","pointFormat","valueDecimals","size","height","darkUnicaTheme","createElement","href","rel","type","document","getElementsByTagName","theme","colors","chart","backgroundColor","linearGradient","x1","y1","x2","y2","stops","style","fontFamily","plotBorderColor","textTransform","fontSize","xAxis","gridLineColor","lineColor","minorGridLineColor","tickColor","tickWidth","dataLabels","marker","boxplot","fillColor","candlestick","errorbar","legend","itemStyle","itemHoverStyle","itemHiddenStyle","credits","drilldown","activeAxisLabelStyle","activeDataLabelStyle","navigation","buttonOptions","symbolStroke","fill","buttonTheme","stroke","states","hover","select","inputBoxBorderColor","inputStyle","labelStyle","navigator","handles","borderColor","outlineColor","maskFill","scrollbar","barBackgroundColor","barBorderColor","buttonArrowColor","buttonBackgroundColor","buttonBorderColor","rifleColor","trackBackgroundColor","trackBorderColor","legendBackgroundColor","background2","dataLabelsColor","textColor","contrastTextColor","maskColor","setOptions","realtime","socket","io","formatChartData","retrieveStockData","companyStock","emitter","stockData","appendStockToScreen","emit","catch","alert","val","removeStock","stockToRemove","parent","remove","filter","modifiedSeries","String","modifiedCompany","html","append","click","id","submit","e","preventDefault","stockName","toLowerCase","includes","on","stockToAdd"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 285ef14779a15058d188","import darkUnicaTheme from './stocksTheme';\r\nimport loadHome from './loadHome';\r\nimport realtime from './realtime';\r\n\r\ndarkUnicaTheme();\r\nloadHome();\r\nrealtime();\r\n\r\n/*\r\nscript(src=\"js/loadHome.js\")\r\nscript(src=\"/js/realtime.js\")\r\nscript(src=\"js/stocksTheme.js\")\r\nscript(src=\"js/createChart.js\")\r\n*/\n\n\n// WEBPACK FOOTER //\n// ./public/js/stock.js","// stockOptions and companyArray were defined globally;\r\nimport createChart from './createChart';\r\n\r\nfunction loadHome() {\r\n  function generateDate() {\r\n    const d = new Date();\r\n    const currentYear = d.getFullYear();\r\n    const currentMonth = d.getMonth() + 1;\r\n    const currentDay = d.getDate();\r\n\r\n    const previousYear = currentYear - 1;\r\n    const startDate = `${previousYear}-${currentMonth}-${currentDay}`;\r\n    const endDate = `${currentYear}-${currentMonth}-${currentDay}`;\r\n\r\n    return [startDate, endDate];\r\n  }\r\n\r\n  const [startDate, endDate] = generateDate();\r\n\r\n  const corsProxy = 'https://ajibs-cors-anywhere.herokuapp.com/';\r\n\r\n  companyArray.forEach((name) => {\r\n    const url = `https://www.quandl.com/api/v3/datasets/wiki/${name}.json?start_date=${startDate}&end_date=${endDate}&order=asc&column_index=4&api_key=PSk62mMsvFBdWw3Fc7y2`;\r\n    $.getJSON(corsProxy + url, (result) => {\r\n      const formattedData = result.dataset.data.map((element) => {\r\n        const givenDate = new Date(element[0]).getTime();\r\n        const stockPrice = element[1];\r\n        return [givenDate, stockPrice];\r\n      });\r\n\r\n      stockOptions.push({\r\n        name: `${name}`,\r\n        data: formattedData\r\n      });\r\n\r\n      // create chart when all data loads\r\n      if (stockOptions.length === companyArray.length) {\r\n        console.log('creating chart');\r\n        createChart(stockOptions);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n\r\nexport default loadHome;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/loadHome.js","/**\r\n* Create the chart when all data is loaded\r\n* @returns {undefined}\r\n*/\r\n\r\nfunction createChart(seriesOptions) {\r\n  Highcharts.stockChart('container', {\r\n    rangeSelector: {\r\n      selected: 4\r\n    },\r\n    yAxis: {\r\n      labels: {\r\n        formatter: function () {\r\n          return (this.value > 0 ? ' + ' : '') + this.value + '%';\r\n        }\r\n      },\r\n      plotLines: [{\r\n        value: 0,\r\n        width: 2,\r\n        color: 'silver'\r\n      }]\r\n    },\r\n    title: {\r\n      text: 'Stock Master'\r\n    },\r\n    subtitle: {\r\n      text: 'Stay updated'\r\n    },\r\n    plotOptions: {\r\n      series: {\r\n        compare: 'percent'\r\n      }\r\n    },\r\n    tooltip: {\r\n      pointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',\r\n      valueDecimals: 2\r\n    },\r\n    size: {\r\n      height: 400\r\n    },\r\n    series: seriesOptions\r\n  });\r\n}\r\n\r\nexport default createChart;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/createChart.js","/**\r\n * (c) 2010-2017 Torstein Honsi\r\n *\r\n * License: www.highcharts.com/license\r\n *\r\n * Grid-light theme for Highcharts JS\r\n * @author Torstein Honsi\r\n */\r\n\r\n\r\n// Dark Unica theme\r\n/* global document */\r\n// Load the fonts\r\n\r\nfunction darkUnicaTheme() {\r\n  Highcharts.createElement('link', {\r\n    href: 'https://fonts.googleapis.com/css?family=Unica+One',\r\n    rel: 'stylesheet',\r\n    type: 'text/css'\r\n  }, null, document.getElementsByTagName('head')[0]);\r\n\r\n  Highcharts.theme = {\r\n    colors: ['#2b908f', '#90ee7e', '#f45b5b', '#7798BF', '#aaeeee', '#ff0066',\r\n      '#eeaaee', '#55BF3B', '#DF5353', '#7798BF', '#aaeeee'],\r\n    chart: {\r\n      backgroundColor: {\r\n        linearGradient: {\r\n          x1: 0,\r\n          y1: 0,\r\n          x2: 1,\r\n          y2: 1\r\n        },\r\n        stops: [\r\n          [0, '#2a2a2b'],\r\n          [1, '#3e3e40']\r\n        ]\r\n      },\r\n      style: {\r\n        fontFamily: '\\'Unica One\\', sans-serif'\r\n      },\r\n      plotBorderColor: '#606063'\r\n    },\r\n    title: {\r\n      style: {\r\n        color: '#E0E0E3',\r\n        textTransform: 'uppercase',\r\n        fontSize: '20px'\r\n      }\r\n    },\r\n    subtitle: {\r\n      style: {\r\n        color: '#E0E0E3',\r\n        textTransform: 'uppercase'\r\n      }\r\n    },\r\n    xAxis: {\r\n      gridLineColor: '#707073',\r\n      labels: {\r\n        style: {\r\n          color: '#E0E0E3'\r\n        }\r\n      },\r\n      lineColor: '#707073',\r\n      minorGridLineColor: '#505053',\r\n      tickColor: '#707073',\r\n      title: {\r\n        style: {\r\n          color: '#A0A0A3'\r\n\r\n        }\r\n      }\r\n    },\r\n    yAxis: {\r\n      gridLineColor: '#707073',\r\n      labels: {\r\n        style: {\r\n          color: '#E0E0E3'\r\n        }\r\n      },\r\n      lineColor: '#707073',\r\n      minorGridLineColor: '#505053',\r\n      tickColor: '#707073',\r\n      tickWidth: 1,\r\n      title: {\r\n        style: {\r\n          color: '#A0A0A3'\r\n        }\r\n      }\r\n    },\r\n    tooltip: {\r\n      backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n      style: {\r\n        color: '#F0F0F0'\r\n      }\r\n    },\r\n    plotOptions: {\r\n      series: {\r\n        dataLabels: {\r\n          color: '#B0B0B3'\r\n        },\r\n        marker: {\r\n          lineColor: '#333'\r\n        }\r\n      },\r\n      boxplot: {\r\n        fillColor: '#505053'\r\n      },\r\n      candlestick: {\r\n        lineColor: 'white'\r\n      },\r\n      errorbar: {\r\n        color: 'white'\r\n      }\r\n    },\r\n    legend: {\r\n      itemStyle: {\r\n        color: '#E0E0E3'\r\n      },\r\n      itemHoverStyle: {\r\n        color: '#FFF'\r\n      },\r\n      itemHiddenStyle: {\r\n        color: '#606063'\r\n      }\r\n    },\r\n    credits: {\r\n      style: {\r\n        color: '#666'\r\n      }\r\n    },\r\n    labels: {\r\n      style: {\r\n        color: '#707073'\r\n      }\r\n    },\r\n\r\n    drilldown: {\r\n      activeAxisLabelStyle: {\r\n        color: '#F0F0F3'\r\n      },\r\n      activeDataLabelStyle: {\r\n        color: '#F0F0F3'\r\n      }\r\n    },\r\n\r\n    navigation: {\r\n      buttonOptions: {\r\n        symbolStroke: '#DDDDDD',\r\n        theme: {\r\n          fill: '#505053'\r\n        }\r\n      }\r\n    },\r\n\r\n    // scroll charts\r\n    rangeSelector: {\r\n      buttonTheme: {\r\n        fill: '#505053',\r\n        stroke: '#000000',\r\n        style: {\r\n          color: '#CCC'\r\n        },\r\n        states: {\r\n          hover: {\r\n            fill: '#707073',\r\n            stroke: '#000000',\r\n            style: {\r\n              color: 'white'\r\n            }\r\n          },\r\n          select: {\r\n            fill: '#000003',\r\n            stroke: '#000000',\r\n            style: {\r\n              color: 'white'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      inputBoxBorderColor: '#505053',\r\n      inputStyle: {\r\n        backgroundColor: '#333',\r\n        color: 'silver'\r\n      },\r\n      labelStyle: {\r\n        color: 'silver'\r\n      }\r\n    },\r\n\r\n    navigator: {\r\n      handles: {\r\n        backgroundColor: '#666',\r\n        borderColor: '#AAA'\r\n      },\r\n      outlineColor: '#CCC',\r\n      maskFill: 'rgba(255,255,255,0.1)',\r\n      series: {\r\n        color: '#7798BF',\r\n        lineColor: '#A6C7ED'\r\n      },\r\n      xAxis: {\r\n        gridLineColor: '#505053'\r\n      }\r\n    },\r\n\r\n    scrollbar: {\r\n      barBackgroundColor: '#808083',\r\n      barBorderColor: '#808083',\r\n      buttonArrowColor: '#CCC',\r\n      buttonBackgroundColor: '#606063',\r\n      buttonBorderColor: '#606063',\r\n      rifleColor: '#FFF',\r\n      trackBackgroundColor: '#404043',\r\n      trackBorderColor: '#404043'\r\n    },\r\n\r\n    // special colors for some of the\r\n    legendBackgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    background2: '#505053',\r\n    dataLabelsColor: '#B0B0B3',\r\n    textColor: '#C0C0C0',\r\n    contrastTextColor: '#F0F0F3',\r\n    maskColor: 'rgba(255,255,255,0.3)'\r\n  };\r\n\r\n  // Apply the theme\r\n  Highcharts.setOptions(Highcharts.theme);\r\n}\r\n\r\n\r\nexport default darkUnicaTheme;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/stocksTheme.js","// stockOptions and companyArray were defined globally;\r\nimport createChart from './createChart';\r\n\r\nfunction realtime() {\r\n  const socket = io();\r\n  const corsProxy = 'https://ajibs-cors-anywhere.herokuapp.com/';\r\n\r\n\r\n  function formatChartData(result) {\r\n    return result.dataset.data.map((element) => {\r\n      // used const because variable assignment does not change; only the value does\r\n      const givenDate = new Date(element[0]).getTime();\r\n      const stockPrice = element[1];\r\n      return [givenDate, stockPrice];\r\n    });\r\n  }\r\n\r\n\r\n  function retrieveStockData(companyStock, emitter) {\r\n    const url = `https://www.quandl.com/api/v3/datasets/wiki/${companyStock}.json?start_date=2016-01-01&end_date=2017-11-02&order=asc&column_index=4&api_key=PSk62mMsvFBdWw3Fc7y2`;\r\n    $.getJSON(corsProxy + url, (stockData) => {\r\n      stockOptions.push({ name: companyStock, data: formatChartData(stockData) });\r\n      companyArray.push(companyStock);\r\n      createChart(stockOptions);\r\n\r\n      appendStockToScreen(companyStock);\r\n\r\n      // EMITTER: send stock name to server\r\n      if (emitter) {\r\n        socket.emit('add stock', companyStock);\r\n      }\r\n    }).catch(() => {\r\n      alert('incorrect code');\r\n      $('#stockName').val('');\r\n    });\r\n  }\r\n\r\n\r\n  function removeStock(stockToRemove, emitter) {\r\n    $(`#${stockToRemove}`).parent().remove();\r\n\r\n    // repaint graph;\r\n    stockOptions = stockOptions.filter(modifiedSeries => modifiedSeries.name !== String(stockToRemove));\r\n    companyArray = companyArray.filter(modifiedCompany => modifiedCompany !== String(stockToRemove));\r\n    createChart(stockOptions);\r\n\r\n    // emit stock to server for removal\r\n    if (emitter) {\r\n      socket.emit('remove stock', stockToRemove);\r\n    }\r\n  }\r\n\r\n\r\n  function appendStockToScreen(name) {\r\n    const html = `\r\n      <div class=\"stock-details\">\r\n        <h2>${name}</h2>\r\n        <button id=\"${name}\">Remove</button>\r\n      </div>\r\n    `;\r\n\r\n    $('#allStocks').append(html);\r\n    $('#stockName').val('');\r\n\r\n    // add remove stock listener to newly appended buttons\r\n    $(`#${name}`).click(function() {\r\n      removeStock(this.id, true);\r\n    });\r\n  }\r\n\r\n\r\n  $(() => {\r\n    // ADD STOCK\r\n    $('.addStockForm').submit((e) => {\r\n      e.preventDefault();\r\n      const stockName = $('#stockName').val().toLowerCase();\r\n\r\n      if (companyArray.includes(stockName)) {\r\n        alert('code exists');\r\n        $('#stockName').val('');\r\n        return;\r\n      }\r\n\r\n      // retrieve stock data and emit message via sockets\r\n      retrieveStockData(stockName, true);\r\n    });\r\n\r\n\r\n    // RECEIVER: when server emits message in realtime\r\n    socket.on('add stock', (stockToAdd) => {\r\n      // only retrieve stock data\r\n      retrieveStockData(stockToAdd, false);\r\n    });\r\n\r\n\r\n    // REMOVE STOCK\r\n    $('button').click(function () {\r\n      removeStock(this.id, true);\r\n    });\r\n\r\n    // RECEIVER: when server emits message in realtime\r\n    socket.on('remove stock', (stockToRemove) => {\r\n      // only remove stock from page\r\n      removeStock(stockToRemove, false);\r\n    });\r\n  });\r\n}\r\n\r\nexport default realtime;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/realtime.js"],"sourceRoot":""}